<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Welcome to the Site!</title>
    <script>
        let printError = function (error, explicit) {
            console.log(`[${explicit ? 'EXPLICIT' : 'INEXPLICIT'}] ${error.name}: ${error.message}`);
        }

        // Book as Class
        class Book {
            // Special constructor method
            constructor(title, author, publicationDate) {
                // Set properties
                this.title = title;
                this.author = author;
                this.publicationDate = publicationDate;
            }

            toArray(withPublicationDate) {
                if (withPublicationDate) {
                    // Convert arguments Array-like object to Array.
                    let extra = Array.from(arguments);
                    // Return title, author, publication date, and combine with extra arguments array.
                    return [this.title, this.author, this.publicationDate].concat(extra);
                }
                // Return just title and author.
                return [this.title, this.author];
            }
        }

        try {
            // Create book array with a misspelled title.
            let book = new Book('The Stand', 'Stephen King', new Date(1978, 9));

            // Output default array.
            console.log(book.toArray());
            // ["The Stand", "Stephen King"]

            // Output array with publication date.
            console.log(book.toArray(true, 12345, 'banana'));
            // ["The Stand", "Stephen King", Sun Oct 01 1978 00:00:00 GMT-0700 (Pacific Daylight Time), true, 12345, "banana"]
        } catch (e) {
            if (e instanceof TypeError) {
                printError(e, true);
            } else {
                printError(e, false);
            }
        }
    </script>
</head>

</html>